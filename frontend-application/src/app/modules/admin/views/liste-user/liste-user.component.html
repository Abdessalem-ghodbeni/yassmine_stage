<div class="page-content-wrapper p-xxl-4">
  <!-- Title -->
  <div class="row">
    <div class="col-12 mb-4 mb-sm-5">
      <div class="d-sm-flex justify-content-between align-items-center">
        <h1 class="h3 mb-3 mb-sm-0">Agent List</h1>
        <div class="d-grid">
          <a href="#" class="btn btn-primary mb-0">
            <i class="bi bi-filetype-pdf me-2"></i>Generate Report
          </a>
        </div>
      </div>
    </div>
  </div>

  <!-- Search and select START -->
  <div class="row g-3 align-items-center justify-content-between mb-5">
    <!-- Search -->
    <div class="col-md-8">
      <form class="rounded position-relative">
        <input
          class="form-control pe-5"
          type="search"
          placeholder="Search"
          aria-label="Search"
        />
        <button
          class="btn border-0 px-3 py-0 position-absolute top-50 end-0 translate-middle-y"
          type="submit"
        >
          <i class="fas fa-search fs-6"></i>
        </button>
      </form>
    </div>

    <!-- Select option -->
    <div class="col-md-3">
      <form>
        <select class="form-select js-choice" aria-label=".form-select-sm">
          <option value="">Sort by</option>
          <option>Free</option>
          <option>Newest</option>
          <option>Oldest</option>
        </select>
      </form>
    </div>
  </div>
  <!-- Search and select END -->

  <!-- agent list START -->
  <div class="row g-4">
    <!-- Loop through the filtered user list -->
    <div *ngFor="let user of listeUser" class="col-md-6 col-lg-4 col-xxl-3">
      <div class="card border h-100">
        <!-- Dropdown button -->
        <div class="dropdown position-absolute top-0 end-0 m-3">
          <a
            href="#"
            class="btn btn-sm btn-light btn-round small mb-0"
            role="button"
            id="dropdownShare{{ user.id }}"
            data-bs-toggle="dropdown"
            aria-expanded="false"
          >
            <i class="bi bi-three-dots fa-fw"></i>
          </a>
          <ul
            class="dropdown-menu dropdown-w-sm dropdown-menu-end min-w-auto shadow rounded"
          >
            <li>
              <a class="dropdown-item" href="#">
                <i class="bi bi-pencil-square fa-fw me-2"></i>Edit
              </a>
            </li>
            <li>
              <a class="dropdown-item" href="#">
                <i class="bi bi-trash fa-fw me-2"></i>Remove
              </a>
            </li>
          </ul>
        </div>

        <!-- Card body -->
        <div class="card-body text-center pb-0">
          <!-- Avatar Image -->
          <div class="avatar avatar-xl flex-shrink-0 mb-3">
            <img
              class="avatar-img rounded-circle"
              [src]="getImageUrl(user.image)"
              alt="avatar"
            />
          </div>
          <!-- Title -->
          <h5 class="mb-1">{{ user.nom }}</h5>
          <small><i class="bi bi-geo-alt me-1"></i>{{ user.email }}</small>

          <!-- Info and rating -->
          <div class="d-flex justify-content-between mt-3">
            <h6 class="mb-0 small">
              <span class="fw-light">Role:</span> {{ user.role }}
            </h6>
            <h6 class="mb-0 small">
              Verified:
              <i
                class="fa-solid"
                [ngClass]="{
                  'fa-check-circle text-success': user.verified,
                  'fa-times-circle text-danger': !user.verified
                }"
              ></i>
            </h6>
          </div>
        </div>

        <!-- card footer -->
        <div class="card-footer d-flex gap-3 align-items-center">
          <a
            *ngIf="user.verified == false"
            (click)="activateUser(user.id)"
            class="btn btn-sm btn-primary-soft mb-0 w-100"
            >Activer</a
          >
          <a
            *ngIf="user.verified == true"
            (click)="desactivateUser(user.id)"
            class="btn btn-sm btn-danger-soft mb-0 w-100"
            >DÃ©sactiver</a
          >
          <a class="btn btn-sm btn-light flex-shrink-0 mb-0">
            <i class="bi bi-envelope"></i>
          </a>
        </div>
      </div>
    </div>
  </div>
  <!-- agent list END -->
</div>
